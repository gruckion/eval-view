name: "TapeScope Stock Analysis Test"
description: "Test TapeScope AI agent's ability to analyze stock performance"

input:
  query: "Analyze AAPL stock performance and provide key insights"
  context:
    route: "orchestrator"  # Use orchestrator route for multi-step analysis

expected:
  tools: []  # Tool capture not working yet - TapeScope doesn't emit tool_call events
    # TODO: Fix TapeScope backend to emit tool_call/tool_result/step_narration events
  output:
    contains:
      - "AAPL"  # Agent uses ticker symbol, not company name
      - "stock"  # Keep this check
      - "P/E"    # Verify financial analysis content
    not_contains:
      - "error"
      - "failed"

thresholds:
  min_score: 70  # Realistic for AI agents
  max_cost: 1.00
  max_latency: 120000  # 120 seconds - realistic for multi-step analysis
