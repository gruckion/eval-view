# EvalView Test Case: Anthropic Claude
# Tests Anthropic Claude with tool use capabilities

name: "Anthropic Claude Analysis"
description: "Test Claude's ability to analyze and use tools"

adapter: anthropic
model: claude-sonnet-4-5-20250929
# Set ANTHROPIC_API_KEY in environment

input:
  query: "What's the weather in Tokyo and convert 25 celsius to fahrenheit?"
  context:
    system_prompt: "You are a helpful assistant with access to weather and calculation tools."

# Define tools for the test (with mock responses for testing)
tools:
  - name: get_weather
    description: Get current weather for a city
    input_schema:
      type: object
      properties:
        city:
          type: string
          description: The city name
      required:
        - city
    mock_response:
      temperature: 22
      condition: "partly cloudy"
      humidity: 65

  - name: convert_temperature
    description: Convert temperature between Celsius and Fahrenheit
    input_schema:
      type: object
      properties:
        value:
          type: number
          description: Temperature value
        from_unit:
          type: string
          enum: ["celsius", "fahrenheit"]
        to_unit:
          type: string
          enum: ["celsius", "fahrenheit"]
      required:
        - value
        - from_unit
        - to_unit
    mock_response:
      converted_value: 77
      unit: "fahrenheit"

expected:
  tools:
    - get_weather
    - convert_temperature
  output:
    contains:
      - "Tokyo"
      - "77"  # 25C = 77F
    not_contains:
      - "error"

thresholds:
  min_score: 80
  max_cost: 0.10
  max_latency: 15000
